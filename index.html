<!doctype html><html class=no-js lang=en-us xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.68.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Spaghetti Code with Beer"><meta name=author content><meta name=keyword content><link rel="shortcut icon" href=/favicon.ico><title>Spaghetti Code with Beer</title><link rel=stylesheet href=https://nagimov.me/css/theme/united2.css><link rel=stylesheet href=https://nagimov.me/css/font-awesome.min.css><link rel=stylesheet href=https://nagimov.me/css/style.css><script>var remark_config={host:"https://remark.ngm.me",site_id:'nagimov_me',components:['embed'],theme:'light',};</script><script>!function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);</script><script>(function(f,a,t,h,o,m){a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};o=f.createElement('script'),m=f.getElementsByTagName('script')[0];o.async=1;o.src=t;o.id='fathom-script';m.parentNode.insertBefore(o,m)})(document,window,'https://fathom.ngm.me/tracker.js','fathom');fathom('set','siteId','RYEFY');fathom('trackPageview');</script><link href=https://nagimov.me/index.xml rel=alternate type=application/rss+xml title="Spaghetti Code with Beer"></head><body lang=en><div class=container><div class=row><div class="navbar navbar-default" role=navigation><div class=navbar-header><a class=navbar-brand href=https://nagimov.me>Spaghetti Code with Beer</a></div><div class="navbar-collapse collapse navbar-responsive-collapse"><ul class="nav navbar-nav navbar-right" style=font-size:18px><li><a href=https://nagimov.me>Home</a></li><li><a href=https://nagimov.me/post/>Posts</a></li><li><a href=/about/>About</a></li></ul></div></div></div></div><div class=container><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/measure-with-music-how-to-read-analog-sensors-using-a-pc-sound-card/>Measure with Music: How to Read Analog Sensors Using a PC Sound Card</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2021-06-23</span></div></div></div><div class=row><div class=col-md-12>(GIF for attention) This post describes a simple method of reading resistive and capacitive sensors using a standard PC sound card. Virtually any desktop or laptop could be turned into a simple data acquisition system using this method. Thanks to moderate system requirements, even the very old computers can be repurposed for this application. Socket 478 based platforms from early 2000&rsquo;s with integrated sound cards are readily available for ~free from recycling bins and are perfectly capable of running the data acquisition software (thankfully, Debian still supports 32-bit platforms).</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/measure-with-music-how-to-read-analog-sensors-using-a-pc-sound-card/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/simple-differential-and-incremental-backups-using-7-zip/>Simple Differential and Incremental Backups Using 7-zip</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2020-04-05</span></div></div></div><div class=row><div class=col-md-12>Quick, cheap and easy (cheap as in &ldquo;free&rdquo;, &ldquo;free&rdquo; as in &ldquo;freedom&rdquo;) alternative to both heavy backup solutions and lightweight git-repo based backups with much less overhead and better compression: 7-zip.
7-zip&rsquo;s -u switch provides fine-grained control over creating and updating archives based on states of already-archived and to-be-archived files. The switch is specified as a combination of state-action flags (more info):
State State condition File on Disk File in Archive p File exists in archive, but is not matched with wildcard ?</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/simple-differential-and-incremental-backups-using-7-zip/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/simple-recovery-of-luks-encrypted-partitions/>Simple Recovery of LUKS-encrypted Partitions</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2020-03-09</span></div></div></div><div class=row><div class=col-md-12>LUKS encryption, while convenient, can become a major pain when the drive gets corrupted. Many things can lead to it:
accidental wipe/format of the boot partition accidental dd to a wrong drive (sure, you pressed ^C right away but your grub is gone, sorry) exceedingly &ldquo;smart&rdquo; utilities overwriting MBR or re-initializing encrypted partitions drive/memory failures (power outage, random bit flip, etc.) There are plenty of manuals on how to restore an accidentally wiped boot partition.</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/simple-recovery-of-luks-encrypted-partitions/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/the-horror-of-plc-programming/>The Horror of PLC Programming</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2019-10-03</span></div></div></div><div class=row><div class=col-md-12>Consider this simple code snippet&mldr;
10 VALVE1_POS = S405_VH(1400) 20 VALVE2_POS = 80.0 30 IF VALVE1_POS > 50.0 THEN VALVE3_POS = 99.5 ELSE VALVE3_POS = 0.5 &mldr;and let me follow your observations:
you notice a weird line enumeration, just like in good old BASIC, you see three variables, VALVE1_POS, VALVE2_POS and VALVE3_POS, you find S405_VH(1400) most likely to be a function call retrieving a position of the valve 1, position of the valve 2 is set to 80.</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/the-horror-of-plc-programming/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/running-docker-on-32-bit-hosts/>Running Docker on 32-bit Hosts</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2019-02-03</span></div></div></div><div class=row><div class=col-md-12>Docker is known to not to support 32-bit hosts. As per debian installation instructions: Docker CE is supported on x86_64 (or amd64), armhf, and arm64 architectures. 32-bit hosts are unlikely to become supported either &ndash; &ldquo;let&rsquo;s bring docker on 32-bit&rdquo; issue was closed and locked back in 2014.
Nothing fundamentally prevents docker (including latest version of docker CE) from running on 32-bit platforms. I am currently running a slightly outdated version 18.</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/running-docker-on-32-bit-hosts/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/alsa-utils-arecord-bug-lots-of-.wav-files-ignoring-duration-parameter/>alsa-utils' arecord bug: lots of *.wav files, ignoring --duration parameter</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2016-08-18</span></div></div></div><div class=row><div class=col-md-12>I ran into a rather funny bug recently &ndash; when recording audio on an RPi with Raspbian Jessie via an external USB sound card, arecord doesn&rsquo;t stop recording after a period of time specified by --duration flag, but keeps running and filling files *-01.wav, *-02.wav, etc. with garbage data. Googling doesn&rsquo;t return a solution, except an obvious one to killall -KILL arecord. USB microphones are also affected.
Since I have another RPi running Wheezy and showing no symptoms of the bug (and being free of systemd malware ;), the bug is likely in arecord itself.</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/alsa-utils-arecord-bug-lots-of-.wav-files-ignoring-duration-parameter/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/calibrating-max31855-thermocouple-amplifier/>Calibrating MAX31855 Thermocouple Amplifier</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2016-08-15</span></div></div></div><div class=row><div class=col-md-12>Maxim 31855 chips are cheap and simple to use K-type thermocouple amplifiers. They&rsquo;re equipped with a digital SPI interface with libraries available for both Raspberry Pi and Arduino boards. MAX31855 breakout boards are available from Adafruit.
The datasheet specifies the accuracy of ±2°C within the temperature range from -200°C to +700°C. However, close to the lower bound of this range, the accuracy of reported temperature is affected by linearized volt-to-degree conversion.</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/calibrating-max31855-thermocouple-amplifier/>Read more</a></div></div><div class=row><div class=col-md-12 style=display:flex;justify-content:space-between><div><h3><a href=https://nagimov.me/post/fire-tv-2nd-gen-root-openvpn/>Fire TV 2nd Gen - Root & OpenVPN</a></h3></div><div>&nbsp;&nbsp;&nbsp;&nbsp;</div><div style=margin-bottom:10.5px;margin-top:21px><span class="label label-primary">2016-03-30</span></div></div></div><div class=row><div class=col-md-12>Fire TV is an awesome htpc replacement. It still requires rooting and, if you want to watch US Netflix shows outside of US, installing a VPN client.
Rooting is straightforward &ndash; I just followed this guide.
Installing OpenVPN is a bit more tricky. Even though there are few tutorials (e.g. this one or this one), recommended installer apk doesn&rsquo;t work on my Fire TV.
This tutorial recommends unpacking the OpenVPN binary manually to /system/xbin/.</div></div><div class=row><div class=col-md-12><a href=https://nagimov.me/post/fire-tv-2nd-gen-root-openvpn/>Read more</a></div></div></div><div class=container><div class=row><div class=col-md-12><div class=text-center></div></div></div><div class=row><div class=col-md-12><hr></div></div></div><div class=container><div class="row col-md-12"><footer><div class=pull-left><p>&copy; 2021 Ruslan Nagimov ~ Powered By <a href=https://gohugo.io>Hugo</a> ~ <a href=https://creativecommons.org/licenses/by/4.0/>License: CC BY 4.0</a></p></div><div class=pull-right><a href=https://github.com/nagimov target=_blank><i class="fa fa-github-square fa-2x"></i></a><a href=https://nagimov.me/index.xml target=_blank><i class="fa fa-rss-square fa-2x"></i></a></div></footer></div></div></body></html>