<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Spaghetti Code with Beer</title><link>https://nagimov.me/post/</link><description>Recent content in Posts on Spaghetti Code with Beer</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Wed, 23 Jun 2021 22:59:42 -0700</lastBuildDate><atom:link href="https://nagimov.me/post/index.xml" rel="self" type="application/rss+xml"/><item><title>Measure with Music: How to Read Analog Sensors Using a PC Sound Card</title><link>https://nagimov.me/post/measure-with-music-how-to-read-analog-sensors-using-a-pc-sound-card/</link><pubDate>Wed, 23 Jun 2021 22:59:42 -0700</pubDate><guid>https://nagimov.me/post/measure-with-music-how-to-read-analog-sensors-using-a-pc-sound-card/</guid><description>(GIF for attention) This post describes a simple method of reading resistive and capacitive sensors using a standard PC sound card. Virtually any desktop or laptop could be turned into a simple data acquisition system using this method. Thanks to moderate system requirements, even the very old computers can be repurposed for this application. Socket 478 based platforms from early 2000&amp;rsquo;s with integrated sound cards are readily available for ~free from recycling bins and are perfectly capable of running the data acquisition software (thankfully, Debian still supports 32-bit platforms).</description></item><item><title>Simple Differential and Incremental Backups Using 7-zip</title><link>https://nagimov.me/post/simple-differential-and-incremental-backups-using-7-zip/</link><pubDate>Sun, 05 Apr 2020 21:30:50 -0700</pubDate><guid>https://nagimov.me/post/simple-differential-and-incremental-backups-using-7-zip/</guid><description>Quick, cheap and easy (cheap as in &amp;ldquo;free&amp;rdquo;, &amp;ldquo;free&amp;rdquo; as in &amp;ldquo;freedom&amp;rdquo;) alternative to both heavy backup solutions and lightweight git-repo based backups with much less overhead and better compression: 7-zip.
7-zip&amp;rsquo;s -u switch provides fine-grained control over creating and updating archives based on states of already-archived and to-be-archived files. The switch is specified as a combination of state-action flags (more info):
State State condition File on Disk File in Archive p File exists in archive, but is not matched with wildcard ?</description></item><item><title>Simple Recovery of LUKS-encrypted Partitions</title><link>https://nagimov.me/post/simple-recovery-of-luks-encrypted-partitions/</link><pubDate>Mon, 09 Mar 2020 16:32:01 -0700</pubDate><guid>https://nagimov.me/post/simple-recovery-of-luks-encrypted-partitions/</guid><description>LUKS encryption, while convenient, can become a major pain when the drive gets corrupted. Many things can lead to it:
accidental wipe/format of the boot partition accidental dd to a wrong drive (sure, you pressed ^C right away but your grub is gone, sorry) exceedingly &amp;ldquo;smart&amp;rdquo; utilities overwriting MBR or re-initializing encrypted partitions drive/memory failures (power outage, random bit flip, etc.) There are plenty of manuals on how to restore an accidentally wiped boot partition.</description></item><item><title>The Horror of PLC Programming</title><link>https://nagimov.me/post/the-horror-of-plc-programming/</link><pubDate>Thu, 03 Oct 2019 19:41:14 -0700</pubDate><guid>https://nagimov.me/post/the-horror-of-plc-programming/</guid><description>Consider this simple code snippet&amp;hellip;
10 VALVE1_POS = S405_VH(1400) 20 VALVE2_POS = 80.0 30 IF VALVE1_POS &amp;gt; 50.0 THEN VALVE3_POS = 99.5 ELSE VALVE3_POS = 0.5 &amp;hellip;and let me follow your observations:
you notice a weird line enumeration, just like in good old BASIC, you see three variables, VALVE1_POS, VALVE2_POS and VALVE3_POS, you find S405_VH(1400) most likely to be a function call retrieving a position of the valve 1, position of the valve 2 is set to 80.</description></item><item><title>Running Docker on 32-bit Hosts</title><link>https://nagimov.me/post/running-docker-on-32-bit-hosts/</link><pubDate>Sun, 03 Feb 2019 00:42:28 -0800</pubDate><guid>https://nagimov.me/post/running-docker-on-32-bit-hosts/</guid><description>Docker is known to not to support 32-bit hosts. As per debian installation instructions: Docker CE is supported on x86_64 (or amd64), armhf, and arm64 architectures. 32-bit hosts are unlikely to become supported either &amp;ndash; &amp;ldquo;let&amp;rsquo;s bring docker on 32-bit&amp;rdquo; issue was closed and locked back in 2014.
Nothing fundamentally prevents docker (including latest version of docker CE) from running on 32-bit platforms. I am currently running a slightly outdated version 18.</description></item><item><title>alsa-utils' arecord bug: lots of *.wav files, ignoring --duration parameter</title><link>https://nagimov.me/post/alsa-utils-arecord-bug-lots-of-.wav-files-ignoring-duration-parameter/</link><pubDate>Thu, 18 Aug 2016 20:56:00 -0800</pubDate><guid>https://nagimov.me/post/alsa-utils-arecord-bug-lots-of-.wav-files-ignoring-duration-parameter/</guid><description>I ran into a rather funny bug recently &amp;ndash; when recording audio on an RPi with Raspbian Jessie via an external USB sound card, arecord doesn&amp;rsquo;t stop recording after a period of time specified by --duration flag, but keeps running and filling files *-01.wav, *-02.wav, etc. with garbage data. Googling doesn&amp;rsquo;t return a solution, except an obvious one to killall -KILL arecord. USB microphones are also affected.
Since I have another RPi running Wheezy and showing no symptoms of the bug (and being free of systemd malware ;), the bug is likely in arecord itself.</description></item><item><title>Calibrating MAX31855 Thermocouple Amplifier</title><link>https://nagimov.me/post/calibrating-max31855-thermocouple-amplifier/</link><pubDate>Mon, 15 Aug 2016 17:55:00 -0800</pubDate><guid>https://nagimov.me/post/calibrating-max31855-thermocouple-amplifier/</guid><description>Maxim 31855 chips are cheap and simple to use K-type thermocouple amplifiers. They&amp;rsquo;re equipped with a digital SPI interface with libraries available for both Raspberry Pi and Arduino boards. MAX31855 breakout boards are available from Adafruit.
The datasheet specifies the accuracy of ±2°C within the temperature range from -200°C to +700°C. However, close to the lower bound of this range, the accuracy of reported temperature is affected by linearized volt-to-degree conversion.</description></item><item><title>Fire TV 2nd Gen - Root &amp; OpenVPN</title><link>https://nagimov.me/post/fire-tv-2nd-gen-root-openvpn/</link><pubDate>Wed, 30 Mar 2016 19:35:32 -0800</pubDate><guid>https://nagimov.me/post/fire-tv-2nd-gen-root-openvpn/</guid><description>Fire TV is an awesome htpc replacement. It still requires rooting and, if you want to watch US Netflix shows outside of US, installing a VPN client.
Rooting is straightforward &amp;ndash; I just followed this guide.
Installing OpenVPN is a bit more tricky. Even though there are few tutorials (e.g. this one or this one), recommended installer apk doesn&amp;rsquo;t work on my Fire TV.
This tutorial recommends unpacking the OpenVPN binary manually to /system/xbin/.</description></item></channel></rss>